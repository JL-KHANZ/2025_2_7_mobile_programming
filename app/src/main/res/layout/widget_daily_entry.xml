<?xml version="1.0" encoding="utf-8"?>
<LinearLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:orientation="vertical"
    android:padding="16dp"
    android:elevation="6dp"
    android:gravity="center">

    <!-- Outer Container for the Fixed/Summary Content -->
    <androidx.constraintlayout.widget.ConstraintLayout
        android:id="@+id/widget_constraint_layout"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:paddingBottom="12dp">

        <!-- 1. Big Central Text (Single Word/Main Status) -->
        <TextView
            android:id="@+id/widget_topEmotion"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="SUCCESS"
            android:textSize="38sp"
            android:textStyle="bold"
            android:textColor="#4CAF50"
            app:layout_constraintTop_toTopOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintEnd_toEndOf="parent" />

        <!-- 2. Two Short Sentences (Smaller, Greyed Out) -->
        <TextView
            android:id="@+id/widget_empathy"
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_marginTop="8dp"
            android:text="Date: 2024-11-24. Time spent: 45 min."
            android:textSize="14sp"
            android:textColor="@android:color/darker_gray"
            app:layout_constraintTop_toBottomOf="@id/widget_topEmotion"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintEnd_toEndOf="parent" />

        <TextView
            android:id="@+id/widget_mindset"
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:text="Summary of today's achievement status."
            android:textSize="14sp"
            android:textColor="@android:color/darker_gray"
            app:layout_constraintTop_toBottomOf="@id/widget_empathy"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintEnd_toEndOf="parent" />

        <!-- 3. Two Short Sentences (Labeled 1 and 2, Not Greyed) -->
        <TextView
            android:id="@+id/widget_feedback_1"
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_marginTop="12dp"
            android:text="1. Progress on key task completed."
            android:textSize="16sp"
            android:textColor="#333333"
            app:layout_constraintTop_toBottomOf="@id/widget_mindset"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintEnd_toEndOf="parent" />

        <TextView
            android:id="@+id/widget_feedback_2"
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_marginTop="4dp"
            android:text="2. Received positive feedback."
            android:textSize="16sp"
            android:textColor="#333333"
            app:layout_constraintTop_toBottomOf="@id/widget_feedback_1"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintEnd_toEndOf="parent" />

        <!-- 4. Dropdown Indicator Button -->
        <ImageButton
            android:id="@+id/button_toggle_details"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:src="@android:drawable/arrow_down_float"
            android:background="?attr/selectableItemBackgroundBorderless"
            android:contentDescription="Toggle Details"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintTop_toTopOf="@id/widget_topEmotion"
            app:layout_constraintBottom_toBottomOf="@id/widget_topEmotion" />

    </androidx.constraintlayout.widget.ConstraintLayout>

    <!-- Expandable Content Area (Set to GONE initially in Java) -->
    <LinearLayout
        android:id="@+id/details_layout"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical"
        android:paddingTop="12dp"
        android:paddingBottom="4dp"
        android:background="#F5F5F5"
        android:visibility="gone"> <!-- Initially hidden -->

        <TextView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:text="Details Paragraph:"
            android:textStyle="bold"
            android:textSize="14sp"
            android:paddingBottom="4dp"/>

        <TextView
            android:id="@+id/widget_content"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:text="This is the longer, revealed paragraph of text. It contains detailed notes and context about the daily entry, which is only shown when the user taps the dropdown indicator. It helps keep the main summary area clean."
            android:textSize="16sp"
            android:textColor="#555555"/>

    </LinearLayout>

    <LinearLayout
        android:id="@+id/widget_placeholder"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:orientation="horizontal"
        >
        <TextView
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="아직 오늘의 감정 분석이 없습니다."
            android:textSize="16sp"
            android:textColor="#555555" />
    </LinearLayout>

</LinearLayout>